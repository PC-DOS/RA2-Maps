SCP-EQ-Tools_enhancing_decisions_category = {

    # Generic decisions group
    SCP-EQ-Tools_enhancing_decisions_separator_buffs = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            always = no
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
        }
    }
    SCP-EQ-Tools_enhancing_decisions_make_PD_as_leader = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_country_leader_name = {
                name = SCP-EQ-Tools_generic_characters_Picsell_Dois_generic_name
            }
            set_country_leader_description = {
                desc = SCP-EQ-Tools_generic_characters_Picsell_Dois_generic_desc
            }
            set_country_leader_portrait = {
                portrait = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic
            }
            # Use a non-existent effect to test if the mod is loaded successfully
            # Check %UserProfile%/Documents/Paradox Interactive/Hearts of Iron IV/logs/error.log
            SCP-EQ-Tools_Debug_this_effect_does_not_exist = 1
        }
    }
    SCP-EQ-Tools_enhancing_decisions_recruit_PD = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_country_flag = SCP-EQ-Tools_generic_characters_Picsell_Dois_is_recruited
            # Override some default portrait settings
            # E.g. EaW's setup_generic_advisor_portraits common/scripted_effects/EAW_race_effects.txt
            every_character = {
                limit = {
                    OR = {
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_generic_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_political_advisor_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_theorist_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_army_chief_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_navy_chief_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_air_chief_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_high_command_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_TNO_head_of_government_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_TNO_economy_minister_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_TNO_foreign_minister_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_TNO_security_minister_trait
                        has_trait = SCP-EQ-Tools_generic_characters_Picsell_Dois_RF_head_of_intel_trait
                    }
                }
                set_portraits = {
                    civilian = {
                        large = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic
                        small = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic_Small
                    }
                    army = {
                        large = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic
                        small = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic_Small
                    }
                    navy = {
                        large = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic
                        small = GFX_SCP-EQ-Tools_generic_portraits_Picsell_Dois_Generic_Small
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1 = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1 = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_production = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_production = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_production_turbo = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_production_turbo = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_production_consumer_goods = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_production_consumer_goods = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_training = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_training = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_army = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_army = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_naval = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_naval = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_air = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_air = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_intelligence = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_intelligence = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_diplomacy = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_diplomacy = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_population = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_population = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_autonomy = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_autonomy = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_governments_in_exile = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_governments_in_exile = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_state_supplies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_state_supplies_for_all_controlled_states = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_SCP_item_1_state_factories = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_toggle_SCP_item_1_state_factories_for_all_controlled_states = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_separator_resources_and_development = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            always = no
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_PP = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_political_power = 2450
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_MP = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_command_power = 2450
            add_manpower = 245245
            army_experience = 2450
            navy_experience = 2450
            air_experience = 2450
            add_stability = 5.0
            add_war_support = 5.0
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_fuel = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_fuel = 24525
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_resource = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_controlled_state = {
                add_resource = {
                    type = oil
                    amount = 24525
                }
                add_resource = {
                    type = aluminium
                    amount = 24525
                }
                add_resource = {
                    type = rubber
                    amount = 24525
                }
                add_resource = {
                    type = tungsten
                    amount = 24525
                }
                add_resource = {
                    type = steel
                    amount = 24525
                }
                add_resource = {
                    type = chromium
                    amount = 24525
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_offsite_industrial_complex = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # Offsite building may require a change of economic law / reload save file to be recalculated
            # See https://hoi4.paradoxwikis.com/Effect#Buildings_2
            add_offsite_building = {
                type = industrial_complex
                level = 1
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_offsite_arms_factory = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # Offsite building may require a change of economic law / reload save file to be recalculated
            # See https://hoi4.paradoxwikis.com/Effect#Buildings_2
            add_offsite_building = {
                type = arms_factory
                level = 1
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_industrial_complex_random = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_arms_factory_random = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_dockyard_random = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_infrastructure_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = infrastructure
                    level = 25
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_anti_air_building_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = anti_air_building
                    level = 25
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_radar_station_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = radar_station
                    level = 25
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_air_base_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = air_base
                    level = 25
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_unlock_building_slots_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 245
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_industrial_complex_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_arms_factory_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_dockyard_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_railway_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            for_each_loop = {
                array = controlled_states
                value = temp_railway_start
                
                #log = "RailStart:[?temp_railway_start]"
                for_each_loop = {
                    array = controlled_states
                    value = temp_railway_end
                    
                    #log = "RailEnd:[?temp_railway_end]"
                    if = {
                        limit = { 
                            #NOT = {
                            #    check_variable = {
                            #        temp_railway_start = temp_railway_end
                            #    }
                            #}
                            always = yes
                        }
                        build_railway = {
                            level = 5
                            build_only_on_allied = yes
                            start_state = temp_railway_start
                            target_state = temp_railway_end
                        }
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_supply_node_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = supply_node
                    level = 1
                    instant_build = yes
                    province = {
                        all_provinces = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_naval_base_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = naval_base
                    level = 10
                    instant_build = yes
                    province = {
                        all_provinces = yes
                        limit_to_coastal = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_bunker_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = bunker
                    level = 10
                    instant_build = yes
                    province = {
                        all_provinces = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_coastal_bunker_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_building_construction = {
                    type = coastal_bunker
                    level = 10
                    instant_build = yes
                    province = {
                        all_provinces = yes
                        limit_to_coastal = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_research_slot = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_research_slot = 1
        }
    }
    SCP-EQ-Tools_enhancing_decisions_finish_research_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            log = "SCP-EQ-Tools_enhancing_decisions_finish_research_onekey"
            for_each_loop = {
                array = global.technology
                value = temp_current_research
                
                log = "UnlockingTech: [?temp_current_research.GetTokenKey]"
                meta_effect = {
                    text = {
                        set_technology = {
                            [TECH] = 1
                            popup = no
                        }
                    }
                    TECH = "[?temp_current_research.GetTokenKey]"
                }
                mark_technology_tree_layout_dirty = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_finish_agency_upgrade_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # This scripted effect might be removed in mods
            #for_loop_effect = {
            #    start = 0
            #    end = 245
            #    value = i
            #    
            #    gain_random_agency_upgrade = yes
            #}
            
            # New method
            # Mixing all mods' agency upgrades together will crash the game, so I have to use another method
            # Upgrade function is called based on visibility of mod-specific decisions
            if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
                }
                # EaW
                SCP-EQ-Tools_intelligence_agency_upgrades_complete_all_upgrades_EAW = yes
            }
            else_if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
                }
                # TFR
                SCP-EQ-Tools_intelligence_agency_upgrades_complete_all_upgrades_TFR = yes
            }
            else_if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
                }
                # TNO
                SCP-EQ-Tools_intelligence_agency_upgrades_complete_all_upgrades_TNO = yes
            }
            else = {
                # Base game's upgrades by default
                SCP-EQ-Tools_intelligence_agency_upgrades_complete_all_upgrades = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_complete_current_focus = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_national_focuses_dummy_ideas_complete_ongoing_focus = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_national_focus_auto_complete_level = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level has 4 levels:
            #     0: Function disabled
            #     1: Completing current focus every month
            #     2: Completing current focus every week
            #     3: Completing current focus every day
            if = {
                limit = {
                    check_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 0 }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 3 }
            }
            else_if = {
                limit = {
                    check_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 3 }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 2 }
            }
            else_if = {
                limit = {
                    check_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 2 }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 1 }
            }
            else_if = {
                limit = {
                    check_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 1 }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 0 }
            }
            else = {
                set_variable = { SCP-EQ-Tools_enhancing_decisions_national_focus_auto_complete_level = 0 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_update_focus_token_database = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_national_focuses_dummy_ideas_init_tokens = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_separator_diplomacy_and_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            always = no
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_threat = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { is_embargo_logic_used = 0 }
            # Try adding threat from countries embargoed by us
            random_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                add_threat = 245
                set_temp_variable = { is_embargo_logic_used = 1 }
            }
            # If we are not embargoing any country, try adding threat from countries embargoing us
            if = {
                limit = {
                    check_variable = { is_embargo_logic_used = 0 }
                }
                random_country = {
                    limit = {
                        is_embargoing = ROOT
                    }
                    add_threat = 245
                    set_temp_variable = { is_embargo_logic_used = 1 }
                }
            }
            # If we are not being embargoed either, select a lucky guy
            if = {
                limit = {
                    check_variable = { is_embargo_logic_used = 0 }
                }
                random_country = {
                    add_threat = 245
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_lower_threat = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_threat = -245
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_diplomatic_opinion_turbo_boost = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_toggle_diplomatic_opinion_turbo_boost_enabled
                }
                every_other_country = {
                    remove_opinion_modifier = {
                        target = ROOT
                        modifier = SCP-EQ-Tools_generic_opinion_modifiers_diplomatic_opinion_turbo_boost
                    }
                }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_toggle_diplomatic_opinion_turbo_boost_enabled
            }
            else = {
                every_other_country = {
                    add_opinion_modifier = {
                        target = ROOT
                        modifier = SCP-EQ-Tools_generic_opinion_modifiers_diplomatic_opinion_turbo_boost
                    }
                }
                set_country_flag = SCP-EQ-Tools_enhancing_decisions_toggle_diplomatic_opinion_turbo_boost_enabled
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_trade_opinion_turbo_boost = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_toggle_trade_opinion_turbo_boost_enabled
                }
                every_other_country = {
                    remove_opinion_modifier = {
                        target = ROOT
                        modifier = SCP-EQ-Tools_generic_opinion_modifiers_trade_opinion_turbo_boost
                    }
                }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_toggle_trade_opinion_turbo_boost_enabled
            }
            else = {
                every_other_country = {
                    add_opinion_modifier = {
                        target = ROOT
                        modifier = SCP-EQ-Tools_generic_opinion_modifiers_trade_opinion_turbo_boost
                    }
                }
                set_country_flag = SCP-EQ-Tools_enhancing_decisions_toggle_trade_opinion_turbo_boost_enabled
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_create_default_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            create_faction = SCP-EQ-Tools_generic_factions_default
        }
    }
    SCP-EQ-Tools_enhancing_decisions_become_leader_of_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_faction_leader = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_become_spymaster_of_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_faction_spymaster = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_leave_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            leave_faction = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_dismantle_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            faction_leader = {
                dismantle_faction = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_autonomy_score = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    is_subject = yes
                }
                add_autonomy_score = {
                    value = 2450
                    localization = SCP-EQ-Tools_enhancing_decisions_add_autonomy_score
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_end_our_puppet_state = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    is_subject = yes
                }
                overlord = {
                    end_puppet = ROOT
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_legitimacy = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_legitimacy = 2450
        }
    }
    SCP-EQ-Tools_enhancing_decisions_annex_all_subjects = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_subject_of = ROOT
                }
                ROOT = {
                    annex_country = {
                        target = PREV
                        transfer_troops = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_annex_all_puppets = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_puppet_of = ROOT
                }
                ROOT = {
                    annex_country = {
                        target = PREV
                        transfer_troops = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_end_puppet_all_puppets = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_puppet_of = ROOT
                }
                ROOT = {
                    end_puppet = PREV
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_subjects_add_autonomy_score = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_subject_of = ROOT
                }
                add_autonomy_score = {
                    value = 2450
                    localization = SCP-EQ-Tools_enhancing_decisions_all_subjects_add_autonomy_score
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_subjects_loss_autonomy_score = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_subject_of = ROOT
                }
                add_autonomy_score = {
                    value = -2450
                    localization = SCP-EQ-Tools_enhancing_decisions_all_subjects_loss_autonomy_score
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_hosted_governments_in_exile_add_legitimacy = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_exiled_in = ROOT
                }
                add_legitimacy = 2450
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_hosted_governments_in_exile_loss_legitimacy = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_country = {
                limit = {
                    is_exiled_in = ROOT
                }
                add_legitimacy = -2450
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_compliance = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_compliance = 245
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_clear_resistance = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_resistance = -245
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_disable_resistance = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                cancel_resistance = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_core_on_every_controlled_state = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                cancel_resistance = yes
                add_core_of = ROOT
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_remove_others_core_and_claim_on_every_controlled_state = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            for_each_loop = {
                array = global.countries
                value = temp_current_country
                
                if = {
                    limit = {
                        NOT = {
                            check_variable = { temp_current_country = ROOT }
                        }
                    }
                    ROOT = {
                        every_controlled_state = {
                            remove_claim_by = temp_current_country
                            remove_core_of = temp_current_country
                        }
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_nuke = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_nuclear_bombs = 245
        }
    }
    SCP-EQ-Tools_enhancing_decisions_nuke_our_enemies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_enemy_country = {
                set_temp_variable = { temp_param_nuke_target_tag = THIS }
                set_temp_variable = { temp_param_nuke_sender_tag = ROOT }
                set_temp_variable = { temp_param_is_every_province_nuked = 1 }
                set_temp_variable = { temp_param_is_advanced_nuking_enabled = 1 }
                SCP-EQ-Tools_generic_scripted_effects_nuke_all_controlled_states = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_delete_all_enemy_armies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_delete_all_enemy_units = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_delete_non_allied_armies_in_our_territory = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                every_possible_country = {
                    limit = {
                        NOT = { tag = ROOT }
                        NOT = { is_ally_with = ROOT }
                        NOT = { is_in_faction_with = ROOT }
                        NOT = { is_puppet_of = ROOT }
                        NOT = { is_subject_of = ROOT }
                    }
                    delete_unit = {
                        state = PREV
                        disband = no
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_control_all_enemy_states = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_delete_all_enemy_units = yes
            SCP-EQ-Tools_generic_scripted_effects_control_all_enemy_controlled_states = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_white_peace_with_all_enemies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_enemy_country = {
                white_peace = ROOT
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_start_peace_conference_with_all_enemies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_enemy_country = {
                limit = {
                    # When invoking start_peace_conference with a country, it will be executed on LIMITED_FACTION scope:
                    # If the target country is a faction leader, all of its faction memebers will be considered losers in a single peace conference.
                    # Thus, we need to exclude those faction members or subject countries.
                    # Otherwise, it will crash the game.
                    # See https://hoi4.paradoxwikis.com/Effect#start_peace_conference
                    NOT = {
                        # Excludes subjects whose overlord is in war with us
                        AND = {
                            is_subject = yes
                            overlord = {
                                has_war_with = ROOT
                            }
                        }
                        # Excludes faction memebers whose faction leader is in war with us
                        AND = {
                            is_in_faction = yes
                            is_faction_leader = no
                            faction_leader = {
                                has_war_with = ROOT
                            }
                        }
                    }
                }
                ROOT = {
                    # Current scope is the winner, target and its subjects are the losers
                    start_peace_conference  = {
                        tag = PREV
                        score_factor = 1.0
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_teleport_capital_armies_to_enemy_capitals = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            clear_temp_array = temp_param_arr_teleporting_start_states
            clear_temp_array = temp_param_arr_teleporting_target_states
            set_temp_variable = { temp_param_army_owner_types_to_be_teleported = 0 }
            add_to_temp_array = { temp_param_arr_teleporting_start_states = ROOT.capital }
            every_enemy_country = {
                every_controlled_state = {
                    limit = {
                        is_capital = yes
                    }
                    log = "Adding teleporting target [?THIS.GetName]"
                    add_to_temp_array = { temp_param_arr_teleporting_target_states = THIS }
                }
            }
            SCP-EQ-Tools_generic_scripted_effects_teleport_armies = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_teleport_capital_armies_to_enemy_separated_states = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            clear_temp_array = temp_param_arr_teleporting_start_states
            clear_temp_array = temp_param_arr_teleporting_target_states
            set_temp_variable = { temp_param_army_owner_types_to_be_teleported = 0 }
            add_to_temp_array = { temp_param_arr_teleporting_start_states = ROOT.capital }
            every_enemy_country = {
                every_controlled_state = {
                    limit = {
                        AND = {
                            is_demilitarized_zone = no
                            OR = {
                                is_capital = yes
                                is_in_home_area = no
                            }
                        }
                    }
                    log = "Adding teleporting target [?THIS.GetName]"
                    add_to_temp_array = { temp_param_arr_teleporting_target_states = THIS }
                }
            }
            SCP-EQ-Tools_generic_scripted_effects_teleport_armies = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_teleport_exiled_units_to_capital = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            clear_temp_array = temp_param_arr_teleporting_start_states
            clear_temp_array = temp_param_arr_teleporting_target_states
            set_temp_variable = { temp_param_army_owner_types_to_be_teleported = 2 }
            every_state = {
                limit = {
                    controller = {
                        NOT = { tag = ROOT }
                        NOT = { has_war_with = ROOT }
                        NOT = { is_ally_with = ROOT }
                        NOT = { is_in_faction_with = ROOT }
                        NOT = { is_puppet_of = ROOT }
                        NOT = { is_subject_of = ROOT }
                        NOT = { 
                            has_volunteers_amount_from = {
                                tag = ROOT
                                count > 0
                            }
                        }
                    }
                }
                add_to_temp_array = { temp_param_arr_teleporting_start_states = THIS }
            }
            add_to_temp_array = { temp_param_arr_teleporting_target_states = ROOT.capital }
            SCP-EQ-Tools_generic_scripted_effects_teleport_armies = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_remove_wargoal_toward_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                remove_wargoal = {
                    type = all
                    target = ROOT
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_create_unit_in_capital = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { temp_param_division_owner = ROOT }
            set_temp_variable = { temp_param_division_count = 25 }
            set_temp_variable = { temp_param_division_spawn_state = capital }
            SCP-EQ-Tools_generic_scripted_effects_create_generic_division_1 = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_unlock_division_templates = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            country_lock_all_division_template = no
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allow_changing_advisors = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # This works fine for characters with only 1 advisor slot
            every_character = {
                limit = {
                    is_advisor = yes
                    advisor_can_be_fired = no
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    value = yes
                }
            }
            # For characters with multiple advisor slots, the target slot must be specified explicitly
            # See https://hoi4.paradoxwikis.com/Effect#set_can_be_fired_in_advisor_role
            # Generic advisor slots
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = political_advisor
                    NOT = {
                        advisor_can_be_fired = {
                            slot = political_advisor
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = political_advisor
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = theorist
                    NOT = {
                        advisor_can_be_fired = {
                            slot = theorist
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = theorist
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = army_chief
                    NOT = {
                        advisor_can_be_fired = {
                            slot = army_chief
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = army_chief
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = navy_chief
                    NOT = {
                        advisor_can_be_fired = {
                            slot = navy_chief
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = navy_chief
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = air_chief
                    NOT = {
                        advisor_can_be_fired = {
                            slot = air_chief
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = air_chief
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = high_command
                    NOT = {
                        advisor_can_be_fired = {
                            slot = high_command
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = high_command
                    value = yes
                }
            }
            # TNO advisor slots
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = head_of_government
                    NOT = {
                        advisor_can_be_fired = {
                            slot = head_of_government
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = head_of_government
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = economy_minister
                    NOT = {
                        advisor_can_be_fired = {
                            slot = economy_minister
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = economy_minister
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = foreign_minister
                    NOT = {
                        advisor_can_be_fired = {
                            slot = foreign_minister
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = foreign_minister
                    value = yes
                }
            }
            every_character = {
                limit = {
                    is_advisor = yes
                    has_advisor_role = security_minister
                    NOT = {
                        advisor_can_be_fired = {
                            slot = security_minister
                        }
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    character = THIS
                    slot = security_minister
                    value = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_remove_embargo_from_other_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                diplomatic_relation = {
                    country = ROOT
                    relation = embargo
                    active = no
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_gain_military_access_from_other_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                give_military_access = ROOT
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_gain_docking_rights_from_other_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                ROOT = {
                    diplomatic_relation = {
                        country = PREV
                        relation = docking_rights
                        active = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_ai_volunteer_sending = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                # If diplomacy overriding is loaded, skip rule overriding to reduce save file size
                limit = {
                    SCP-EQ-Tools_generic_scripted_triggers_is_custom_diplomacy_triggers_loaded = yes
                }
                if = {
                    limit = {
                        check_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_volunteer_sending_disabled = 1 }
                    }
                    # Enable AI volunteer sending and clear global flag
                    set_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_volunteer_sending_disabled = 0 }
                }
                else = {
                    # Disable AI volunteer sending and set global flag
                    every_possible_country = {
                        limit = {
                            is_ai = yes
                        }
                        every_possible_country = {
                            limit = {
                                is_ai = yes
                            }
                            recall_volunteers_from = PREV
                        }
                    }
                    set_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_volunteer_sending_disabled = 1 }
                }
            }
            else = {
                # WARNING: You will be faced with a VERY LARGE save file!!!
                if = {
                    limit = {
                        check_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_volunteer_sending_disabled = 1 }
                    }
                    # Enable AI volunteer sending and clear global flag
                    every_possible_country = {
                        limit = {
                            is_ai = yes
                        }
                        every_possible_country = {
                            limit = {
                                OR = {
                                    is_ai = yes
                                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_is_this_country_volunteer_sending_disabled
                                }
                            }
                            remove_relation_rule_override = {
                                target = PREV
                                trigger = SCP-EQ-Tools_generic_scripted_triggers_always_true
                                can_send_volunteers = no
                            }
                            clr_country_flag = SCP-EQ-Tools_enhancing_decisions_is_this_country_volunteer_sending_disabled
                        }
                    }
                    set_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_volunteer_sending_disabled = 0 }
                }
                else = {
                    # Disable AI volunteer sending and set global flag
                    every_possible_country = {
                        limit = {
                            is_ai = yes
                        }
                        every_possible_country = {
                            limit = {
                                is_ai = yes
                            }
                            recall_volunteers_from = PREV
                            add_relation_rule_override = {
                                target = PREV
                                trigger = SCP-EQ-Tools_generic_scripted_triggers_always_true
                                can_send_volunteers = no
                            }
                            set_country_flag = SCP-EQ-Tools_enhancing_decisions_is_this_country_volunteer_sending_disabled
                            #log = "Disabling volunteers from [?THIS] to [?PREV]"
                        }
                    }
                    set_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_volunteer_sending_disabled = 1 }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_ai_faction_operation_level = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level has 3 levels:
            #    0: AI can operate on factions freely
            #    1: AI cannot leave or take over factions leading by player, player won't be kicked out from AI-leading factions
            #    2: AI cannot leave or take over any factions, nor kicking any faction member
            if = {
                limit = {
                    check_variable = { global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level = 2 }
                }
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level = 1 }
            }
            else_if = {
                limit = {
                    check_variable = { global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level = 1 }
                }
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level = 0 }
            }
            else = {
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level = 2 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_ai_war_actions = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    check_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_war_actions_disabled = 1 }
                }
                # Enable AI war actions and clear global flag
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_war_actions_disabled = 0 }
            }
            else = {
                # Disable AI war actions and set global flag
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_is_ai_war_actions_disabled = 1 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_ai_peace_actions_player_controls_peace_conferences = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    check_variable = { global.SCP-EQ-Tools_enhancing_decisions_toggle_ai_peace_actions_player_controls_peace_conferences_enabled = 1 }
                }
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_toggle_ai_peace_actions_player_controls_peace_conferences_enabled = 0 }
            }
            else = {
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_toggle_ai_peace_actions_player_controls_peace_conferences_enabled = 1 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_remove_non_aggression_pact_from_ai_to_ai = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_ai = yes
                }
                every_possible_country = {
                    limit = {
                        is_ai = yes
                    }
                    diplomatic_relation = {
                        country = PREV
                        relation = non_aggression_pact
                        active = no
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_countries_with_our_volunteers_win_wars = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    has_volunteers_amount_from = {
                        tag = ROOT
                        count > 0
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                SCP-EQ-Tools_generic_scripted_effects_delete_all_enemy_units = yes
                SCP-EQ-Tools_generic_scripted_effects_control_all_enemy_controlled_states = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_countries_with_our_volunteers_teleport_capital_our_armies_to_enemy_capitals = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    has_volunteers_amount_from = {
                        tag = ROOT
                        count > 0
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                # Teleporting volunteers directly to enemy states seems impossible (your volunteers will be teleported to your own capital)
                # We have to take ownership of target states temporarily
                clear_temp_array = temp_arr_teleporting_target_states_original_owners
                clear_temp_array = temp_param_arr_teleporting_start_states
                clear_temp_array = temp_param_arr_teleporting_target_states
                set_temp_variable = { temp_param_army_owner_types_to_be_teleported = 3 }
                add_to_temp_array = { temp_param_arr_teleporting_start_states = THIS.capital }
                every_enemy_country = {
                    every_controlled_state = {
                        limit = {
                            is_capital = yes
                        }
                        log = "Adding teleporting target [?THIS.GetName]"
                        add_to_temp_array = { temp_param_arr_teleporting_target_states = THIS }
                        add_to_temp_array = { temp_arr_teleporting_target_states_original_owners = owner }
                    }
                }
                ROOT = {
                    SCP-EQ-Tools_generic_scripted_effects_teleport_armies = yes
                }
                # Restore ownership and controller information
                for_each_loop = {
                    array = temp_arr_teleporting_target_states_original_owners
                    value = temp_current_state_original_owner
                    index = i
                    
                    var:temp_param_arr_teleporting_target_states^i = {
                        transfer_state_to = var:temp_current_state_original_owner
                        set_state_controller_to = PREV
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_countries_with_our_volunteers_teleport_capital_our_armies_to_enemy_separated_states = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    has_volunteers_amount_from = {
                        tag = ROOT
                        count > 0
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                # Teleporting volunteers directly to enemy states seems impossible (your volunteers will be teleported to your own capital)
                # We have to take ownership of target states temporarily
                clear_temp_array = temp_arr_teleporting_target_states_original_owners
                clear_temp_array = temp_param_arr_teleporting_start_states
                clear_temp_array = temp_param_arr_teleporting_target_states
                set_temp_variable = { temp_param_army_owner_types_to_be_teleported = 3 }
                add_to_temp_array = { temp_param_arr_teleporting_start_states = THIS.capital }
                every_enemy_country = {
                    every_controlled_state = {
                        limit = {
                            AND = {
                                is_demilitarized_zone = no
                                OR = {
                                    is_capital = yes
                                    is_in_home_area = no
                                }
                            }
                        }
                        log = "Adding teleporting target [?THIS.GetName]"
                        add_to_temp_array = { temp_param_arr_teleporting_target_states = THIS }
                        add_to_temp_array = { temp_arr_teleporting_target_states_original_owners = owner }
                    }
                }
                # Teleporting is executed under ROOT's scope, thus we can gain temporary ownership and teleport armies to targeted states successfully
                ROOT = {
                    SCP-EQ-Tools_generic_scripted_effects_teleport_armies = yes
                }
                # Restore ownership and controller information
                for_each_loop = {
                    array = temp_arr_teleporting_target_states_original_owners
                    value = temp_current_state_original_owner
                    index = i
                    
                    var:temp_param_arr_teleporting_target_states^i = {
                        transfer_state_to = var:temp_current_state_original_owner
                        set_state_controller_to = PREV
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_countries_with_our_volunteers_create_unit_in_capital = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    has_volunteers_amount_from = {
                        tag = ROOT
                        count > 0
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                set_temp_variable = { temp_param_division_owner = THIS }
                set_temp_variable = { temp_param_division_count = 25 }
                set_temp_variable = { temp_param_division_spawn_state = capital }
                SCP-EQ-Tools_generic_scripted_effects_create_generic_division_1 = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_recall_volunteers_from_all_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    has_volunteers_amount_from = {
                        tag = ROOT
                        count > 0
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                ROOT = {
                    recall_volunteers_from = PREV
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allies_and_countries_with_our_volunteers_enable_SCP_items = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    OR = {
                        has_volunteers_amount_from = {
                            tag = ROOT
                            count > 0
                        }
                        is_ally_with = ROOT
                        is_in_faction_with = ROOT
                        is_puppet_of = ROOT
                        is_subject_of = ROOT
                    }
                    NOT = {
                        tag = ROOT
                    }
                    NOT = {
                        has_country_flag = SCP-EQ-Tools_enhancing_decisions_allies_and_countries_with_our_volunteers_SCP_item_1_enabled
                    }
                }
                set_country_flag = SCP-EQ-Tools_enhancing_decisions_allies_and_countries_with_our_volunteers_SCP_item_1_enabled
                # Generic
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                # EaW
                if = {
                    limit = {
                        ROOT = {
                            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
                        }
                    }
                    SCP-EQ-Tools_generic_scripted_effects_EAW_enable_SCP_item_1 = yes
                }
                # TFR
                if = {
                    limit = {
                        ROOT = {
                            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
                        }
                    }
                    SCP-EQ-Tools_generic_scripted_effects_TFR_enable_SCP_item_1 = yes
                    # Allow AI's production
                    remove_ideas = ai_disabled_production
                    country_lock_all_division_template = no
                }
                # TNO
                if = {
                    limit = {
                        ROOT = {
                            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
                        }
                    }
                    SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allies_and_countries_with_our_volunteers_disable_SCP_items = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_allies_and_countries_with_our_volunteers_SCP_item_1_enabled
                }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_allies_and_countries_with_our_volunteers_SCP_item_1_enabled
                # Generic
                SCP-EQ-Tools_generic_scripted_effects_disable_SCP_item_1 = yes
                SCP-EQ-Tools_generic_scripted_effects_disable_SCP_item_1_production = yes
                SCP-EQ-Tools_generic_scripted_effects_disable_SCP_item_1_army = yes
                SCP-EQ-Tools_generic_scripted_effects_disable_SCP_item_1_naval = yes
                SCP-EQ-Tools_generic_scripted_effects_disable_SCP_item_1_air = yes
                # EaW
                SCP-EQ-Tools_generic_scripted_effects_EAW_disable_SCP_item_1 = yes
                # TFR
                SCP-EQ-Tools_generic_scripted_effects_TFR_disable_SCP_item_1 = yes
                # TNO
                SCP-EQ-Tools_generic_scripted_effects_TNO_disable_SCP_item_1 = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allies_add_infrastructure_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    OR = {
                        is_ally_with = ROOT
                        is_in_faction_with = ROOT
                        is_puppet_of = ROOT
                        is_subject_of = ROOT
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                every_controlled_state = {
                    add_building_construction = {
                        type = infrastructure
                        level = 25
                        instant_build = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allies_add_railway_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    OR = {
                        is_ally_with = ROOT
                        is_in_faction_with = ROOT
                        is_puppet_of = ROOT
                        is_subject_of = ROOT
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                for_each_loop = {
                    array = controlled_states
                    value = temp_railway_start
                    
                    #log = "RailStart:[?temp_railway_start]"
                    for_each_loop = {
                        array = controlled_states
                        value = temp_railway_end
                        
                        #log = "RailEnd:[?temp_railway_end]"
                        if = {
                            limit = { 
                                #NOT = {
                                #    check_variable = {
                                #        temp_railway_start = temp_railway_end
                                #    }
                                #}
                                always = yes
                            }
                            build_railway = {
                                level = 5
                                build_only_on_allied = yes
                                start_state = temp_railway_start
                                target_state = temp_railway_end
                            }
                        }
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allies_add_supply_node_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    OR = {
                        is_ally_with = ROOT
                        is_in_faction_with = ROOT
                        is_puppet_of = ROOT
                        is_subject_of = ROOT
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                every_controlled_state = {
                    add_building_construction = {
                        type = supply_node
                        level = 1
                        instant_build = yes
                        province = {
                            all_provinces = yes
                        }
                    }
                }
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_allies_add_naval_base_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    OR = {
                        is_ally_with = ROOT
                        is_in_faction_with = ROOT
                        is_puppet_of = ROOT
                        is_subject_of = ROOT
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                every_controlled_state = {
                    add_building_construction = {
                        type = naval_base
                        level = 10
                        instant_build = yes
                        province = {
                            all_provinces = yes
                            limit_to_coastal = yes
                        }
                    }
                }
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            NOT = {
                has_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_is_tagged_from_another_country
            }
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_other_country = {
                limit = {
                    OR = {
                        has_volunteers_amount_from = {
                            tag = ROOT
                            count > 0
                        }
                        is_ally_with = ROOT
                        is_in_faction_with = ROOT
                        is_puppet_of = ROOT
                        is_subject_of = ROOT
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_source = ROOT }
                set_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_is_tagged_from_another_country
                change_tag_from = ROOT
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_revert = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_is_tagged_from_another_country
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_is_tagged_from_another_country
                }
                set_temp_variable = { temp_tag_target = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_source }
                set_temp_variable = { temp_tag_source = THIS }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_is_tagged_from_another_country
                clear_variable = SCP-EQ-Tools_enhancing_decisions_tag_to_random_ally_country_of_us_source
                var:temp_tag_target = {
                    change_tag_from = var:temp_tag_source
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_separator_embargoed_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            always = no
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
        }
    }
    SCP-EQ-Tools_enhancing_decisions_delete_all_countries_embargoed_by_us_armies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                SCP-EQ-Tools_generic_scripted_effects_delete_all_units = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_nuke_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                set_temp_variable = { temp_param_nuke_target_tag = THIS }
                set_temp_variable = { temp_param_nuke_sender_tag = ROOT }
                set_temp_variable = { temp_param_is_every_province_nuked = 1 }
                set_temp_variable = { temp_param_is_advanced_nuking_enabled = 1 }
                SCP-EQ-Tools_generic_scripted_effects_nuke_all_controlled_states = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_annex_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                ROOT = {
                    annex_country = {
                        target = PREV
                        transfer_troops = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_puppet_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                ROOT = {
                    puppet = {
                        target = PREV
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_end_puppet_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                if = {
                    limit = {
                        is_subject = yes
                    }
                    overlord = {
                        end_puppet = PREV
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_add_autonomy_score = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                if = {
                    limit = {
                        is_subject = yes
                    }
                    add_autonomy_score = {
                        value = 2450
                        localization = SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_add_autonomy_score
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_loss_autonomy_score = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                if = {
                    limit = {
                        is_subject = yes
                    }
                    add_autonomy_score = {
                        value = -2450
                        localization = SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_loss_autonomy_score
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_gain_military_access_from_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                give_military_access = ROOT
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_gain_docking_rights_from_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                ROOT = {
                    diplomatic_relation = {
                        country = PREV
                        relation = docking_rights
                        active = yes
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_remove_guarantees_of_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_possible_country = {
                    limit = {
                        is_ai = yes
                    }
                    diplomatic_relation = {
                        country = PREV
                        relation = guarantee
                        active = no
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_declare_war_on_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                ROOT = {
                    declare_war_on = {
                        target = PREV
                        type = annex_everything
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_white_peace_with_all_enemies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_enemy_country = {
                    white_peace = PREV
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_start_peace_conference_with_all_enemies = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_enemy_country = {
                    limit = {
                        # When invoking start_peace_conference with a country, it will be executed on LIMITED_FACTION scope:
                        # If the target country is a faction leader, all of its faction memebers will be considered losers in a single peace conference.
                        # Thus, we need to exclude those faction members or subject countries.
                        # Otherwise, it will crash the game.
                        # See https://hoi4.paradoxwikis.com/Effect#start_peace_conference
                        NOT = {
                            # Excludes subjects whose overlord is in war with us
                            AND = {
                                is_subject = yes
                                overlord = {
                                    has_war_with = PREV
                                }
                            }
                            # Excludes faction memebers whose faction leader is in war with us
                            AND = {
                                is_in_faction = yes
                                is_faction_leader = no
                                faction_leader = {
                                    has_war_with = PREV
                                }
                            }
                        }
                    }
                    PREV = {
                        # Current scope is the winner, target and its subjects are the losers
                        start_peace_conference  = {
                            tag = PREV
                            score_factor = 1.0
                        }
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_remove_wargoal = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_possible_country = {
                    PREV = {
                        remove_wargoal = {
                            type = all
                            target = PREV
                        }
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_remove_wargoal_toward_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_possible_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_possible_country = {
                    remove_wargoal = {
                        type = all
                        target = PREV
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_remove_embargo_toward_other_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_possible_country = {
                    PREV = {
                        diplomatic_relation = {
                            country = PREV
                            relation = embargo
                            active = no
                        }
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_remove_embargo_from_other_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_possible_country = {
                    limit = {
                        NOT = { tag = ROOT }
                    }
                    diplomatic_relation = {
                        country = PREV
                        relation = embargo
                        active = no
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_add_to_faction_of_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                ROOT = {
                    leave_faction = yes
                    dismantle_faction = yes
                }
                faction_leader = {
                    add_to_faction = ROOT
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_join_our_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                leave_faction = yes
                dismantle_faction = yes
                set_temp_variable = { temp_target_country = THIS }
                ROOT = {
                    faction_leader = {
                        add_to_faction = temp_target_country
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_become_leader_of_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                set_faction_leader = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_become_spymaster_of_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                set_faction_spymaster = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_leave_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                leave_faction = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_dismantle_current_faction = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                faction_leader = {
                    dismantle_faction = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_recall_volunteers_from_all_countries_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                    has_volunteers_amount_from = {
                        tag = ROOT
                        count > 0
                    }
                    NOT = {
                        tag = ROOT
                    }
                }
                ROOT = {
                    recall_volunteers_from = PREV
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_all_countries_embargoed_by_us_recall_volunteers_from_all_countries = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                every_other_country = {
                    limit = {
                        has_volunteers_amount_from = {
                            tag = PREV
                            count > 0
                        }
                    }
                    PREV = {
                        recall_volunteers_from = PREV
                    }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us = {
        allowed = {
            # Always allowed
        }
        visible = {
            NOT = {
                has_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_is_tagged_from_another_country
            }
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_other_country = {
                limit = {
                    is_embargoed_by = ROOT
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_source = ROOT }
                set_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_is_tagged_from_another_country
                change_tag_from = ROOT
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_revert = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_is_tagged_from_another_country
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_is_tagged_from_another_country
                }
                set_temp_variable = { temp_tag_target = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_source }
                set_temp_variable = { temp_tag_source = THIS }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_is_tagged_from_another_country
                clear_variable = SCP-EQ-Tools_enhancing_decisions_tag_to_random_country_embargoed_by_us_source
                var:temp_tag_target = {
                    change_tag_from = var:temp_tag_source
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_separator_extra_functions = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            always = no
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
        }
    }
    SCP-EQ-Tools_enhancing_decisions_toggle_state_operations = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    has_country_flag = SCP-EQ-Tools_enhancing_decisions_state_operations_enabled
                }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_state_operations_enabled
            }
            else = {
                set_country_flag = SCP-EQ-Tools_enhancing_decisions_state_operations_enabled
            }
        }
    }
    
    # EAW decisions group
    SCP-EQ-Tools_enhancing_decisions_EAW_decisions_toggle = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = { has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
            }
            else = {
               set_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_toggle_SCP_item_1 = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_EAW_toggle_SCP_item_1 = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_add_resource = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_controlled_state = {
                add_resource = {
                    type = crystals
                    amount = 24525
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_decrease_illiteracy = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            decrease_illiteracy = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_decrease_poverty = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            decrease_poverty = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_increase_society_development = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            increase_society_development = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_increase_science_base = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            increase_science_base = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_EAW_improve_state_category = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_EAW_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_EQ_1_Generic_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                improve_state_category = yes
            }
        }
    }
    
    # TFR decisions group
    SCP-EQ-Tools_enhancing_decisions_TFR_decisions_toggle = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = { has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
            }
            else = {
               set_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_toggle_SCP_item_1 = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_TFR_toggle_SCP_item_1 = yes
            # Allow AI's production
            remove_ideas = ai_disabled_production
            country_lock_all_division_template = no
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_give_245245B_money = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { income_var_temp = 245245.0 }
            add_income = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_pay_245245B_debt = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { debt_var_temp = -245245.0 }
            add_debt = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_reset_inflation = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_TFR_reset_inflation = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_toggle_debt_and_inflation_auto_handling = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    check_variable = { SCP-EQ-Tools_enhancing_decisions_TFR_toggle_debt_and_inflation_auto_handling_enabled = 1 }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_TFR_toggle_debt_and_inflation_auto_handling_enabled = 0 }
            }
            else = {
                set_variable = { SCP-EQ-Tools_enhancing_decisions_TFR_toggle_debt_and_inflation_auto_handling_enabled = 1 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_add_office_park_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = office_park
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_US_add_congress_support = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            USB = {
                set_temp_variable = { USB_support_pro_var_temp = 1.0 }
                USB_add_support_pro = yes
                set_temp_variable = { USB_support_neo_var_temp = 1.0 }
                USB_add_support_neo = yes
                set_temp_variable = { USB_support_con_var_temp = 1.0 }
                USB_add_support_con = yes
                set_temp_variable = { USB_support_ino_var_temp = 1.0 }
                USB_add_support_ino = yes
                add_power_balance_value = {
                    id = USB_trust_bop
                    value = 1.0
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_PRC_add_influence = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = {
                var = global.PRC_influence_CAM_var_temp
                value = 5.0
            }
            PRC_add_CAM_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_CAM_var_temp
                value = -5.0
            }
            JAP_add_CAM_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                CAM = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = CAM
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_INS_var_temp
                value = 5.0
            }
            PRC_add_INS_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_INS_var_temp
                value = -5.0
            }
            JAP_add_INS_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                INS = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = INS
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_LAO_var_temp
                value = 5.0
            }
            PRC_add_LAO_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_LAO_var_temp
                value = -5.0
            }
            JAP_add_LAO_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                LAO = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = LAO
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_MAL_var_temp
                value = 5.0
            }
            PRC_add_MAL_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_MAL_var_temp
                value = -5.0
            }
            JAP_add_MAL_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                MAL = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = MAL
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_BRM_var_temp
                value = 5.0
            }
            PRC_add_BRM_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_BRM_var_temp
                value = -5.0
            }
            JAP_add_BRM_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                BRM = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = BRM
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_PHI_var_temp
                value = 5.0
            }
            PRC_add_PHI_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_PHI_var_temp
                value = -5.0
            }
            JAP_add_PHI_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                PHI = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = PHI
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_SIG_var_temp
                value = 5.0
            }
            PRC_add_SIG_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_SIG_var_temp
                value = -5.0
            }
            JAP_add_SIG_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                SIG = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = SIG
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_SIA_var_temp
                value = 5.0
            }
            PRC_add_SIA_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_SIA_var_temp
                value = -5.0
            }
            JAP_add_SIA_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                SIA = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = SIA
                }
            }
            
            set_temp_variable = {
                var = global.PRC_influence_VIN_var_temp
                value = 5.0
            }
            PRC_add_VIN_influence = yes
            set_temp_variable = {
                var = global.JAP_influence_VIN_var_temp
                value = -5.0
            }
            JAP_add_VIN_influence = yes
            if = {
                limit = {
                    PRC = {
                        has_country_flag = PRC_cold_war_flag
                    }
                }
                VIN = {
                    leave_faction = yes
                    if = {
                        limit = {
                            is_faction_leader = yes
                        }
                        dismantle_faction = yes
                    }
                    clr_country_flag = pdto_member
                    set_country_flag = eadi_member
                }
                PRC = {
                    add_to_faction = VIN
                }
            }
            
            PRC = {
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                SCP-EQ-Tools_generic_scripted_effects_TFR_enable_SCP_item_1 = yes
            }
            
            set_variable = { global.SCP-EQ-Tools_enhancing_decisions_ai_faction_operation_level = 2 }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_PRC_dissolve_japan = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            PRC = {
                country_event = china.1011
                PRC_dissolve_japan = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_PRC_send_japs_and_its_allies_to_hell = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            PRC = {
                # Very comfortable news
                country_event = china.1011
                # Ensure those three dogs are our puppet
                puppet = {
                    target = AST
                }
                puppet = {
                    target = NZL
                }
                puppet = {
                    target = PNG
                }
                # Send japs to hell with their Showa bullshit
                PRC_dissolve_japan = yes
                # Just for fun, you know
                PRC_dissolve_india = yes
                # Handle with those who stand with japs
                # PRC_chinas_victory_in_the_gaw effect may hurt Nepal by accident (as NEP will be our friend for sure), so I used the _allies variant
                PRC_chinas_victory_in_the_gaw_allies = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TFR_enable_ai_production_for_this_country = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TFR_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TFR_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            remove_ideas = ai_disabled_production
            country_lock_all_division_template = no
        }
    }
    
    # TNO decisions group
    SCP-EQ-Tools_enhancing_decisions_TNO_decisions_toggle = {
        allowed = {
            # Always allowed
        }
        visible = {
            # Always visible
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = { has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled }
                clr_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
            }
            else = {
               set_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_toggle_SCP_item_1 = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_TNO_toggle_SCP_item_1 = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_resource = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            random_controlled_state = {
                add_resource = {
                    type = uranium
                    amount = 24525
                }
            }
            random_controlled_state = {
                add_resource = {
                    type = consumer_goods
                    amount = 24525
                }
            }
            random_controlled_state = {
                add_resource = {
                    type = power
                    amount = 24525
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_GDP_plus_25Pct = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { temp_econ_GDP_boost_percentage = 0.25 }
            econ_GDP_boost_once_percentage = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_GDP_plus_25B = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { temp_econ_GDP_boost_flat = 25 }
            econ_GDP_boost_once_flat = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_GDP_growth_plus_50Pct = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { gdp_growth_temp = 50 }
            econ_gdp_growth_change = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_GDP_growth_minus_10Pct = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { gdp_growth_temp = -10 }
            econ_gdp_growth_change = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_give_money_25_mult_income = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { temp_month_income_gained = 25 }
            econ_money_reserves_change_month_income = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_give_money_245T = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { money_reserves_temp = 24525 }
            econ_money_reserves_change_raw_money = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_base_inflation_minus_50Pct = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { inflation_temp = -50 }
            econ_inflation_change = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_base_inflation_plus_10Pct = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { inflation_temp = 10 }
            econ_inflation_change = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_unlock_economy_panel_sliders = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            # Ref. common/scripted_effects/TNO_economy_backend_scripted_effects.txt
            # Major sliders
            set_variable = { econ_army_expenditures_minimal_pct = 0 }
            set_variable = { econ_army_expenditures_maximal_pct = 100 }

            set_variable = { econ_naval_expenditures_minimal_pct = 0 }
            set_variable = { econ_naval_expenditures_maximal_pct = 100 }

            set_variable = { econ_nuclear_expenditures_minimal_pct = 0 }
            set_variable = { econ_nuclear_expenditures_maximal_pct = 100 }

            set_variable = { econ_research_expenditures_minimal_pct = 0 }
            set_variable = { econ_research_expenditures_maximal_pct = 100 }

            set_variable = { econ_social_expenditures_minimal_pct = 0 }
            set_variable = { econ_social_expenditures_maximal_pct = 100 }

            set_variable = { econ_admin_expenditures_minimal_pct = 0 }
            set_variable = { econ_admin_expenditures_maximal_pct = 100 }

            set_variable = { econ_consumer_goods_minimal_pct = 0 }
            set_variable = { econ_consumer_goods_maximal_pct = 100 }
            # Minor sliders
            set_variable = { econ_army_maintenance_minimal_pct = 0 }
            set_variable = { econ_army_R_D_minimal_pct = 0 }
            set_variable = { econ_army_logistics_minimal_pct = 0 }
            set_variable = { econ_army_procurement_minimal_pct = 0 }

            set_variable = { econ_social_healthcare_minimal_pct = 0 }
            set_variable = { econ_social_pensions_minimal_pct = 0 }
            set_variable = { econ_social_education_minimal_pct = 0 }
            set_variable = { econ_social_unemployment_minimal_pct = 0 }

            set_variable = { econ_admin_security_minimal_pct = 0 }
            set_variable = { econ_admin_regulations_minimal_pct = 0 }
            set_variable = { econ_admin_pollution_minimal_pct = 0 }
            set_variable = { econ_admin_bureaucracy_minimal_pct = 0 }

            set_variable = { econ_research_science_minimal_pct = 0 }
            set_variable = { econ_research_facilities_minimal_pct = 0 }

            set_variable = { econ_army_maintenance_maximal_pct = 100 }
            set_variable = { econ_army_R_D_maximal_pct = 100 }
            set_variable = { econ_army_logistics_maximal_pct = 100 }
            set_variable = { econ_army_procurement_maximal_pct = 100 }

            set_variable = { econ_social_healthcare_maximal_pct = 100 }
            set_variable = { econ_social_pensions_maximal_pct = 100 }
            set_variable = { econ_social_education_maximal_pct = 100 }
            set_variable = { econ_social_unemployment_maximal_pct = 100 }

            set_variable = { econ_admin_security_maximal_pct = 100 }
            set_variable = { econ_admin_regulations_maximal_pct = 100 }
            set_variable = { econ_admin_pollution_maximal_pct = 100 }
            set_variable = { econ_admin_bureaucracy_maximal_pct = 100 }

            set_variable = { econ_research_science_maximal_pct = 100 }
            set_variable = { econ_research_facilities_maximal_pct = 100 }
            
            update_econ_sliders = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_clear_debt_and_money_reserves = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            SCP-EQ-Tools_generic_scripted_effects_TNO_clear_debt_and_money_reserves = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_toggle_debt_and_money_reserves_auto_handling = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    check_variable = { SCP-EQ-Tools_enhancing_decisions_TNO_toggle_debt_and_money_reserves_auto_handling_enabled = 1 }
                }
                set_variable = { SCP-EQ-Tools_enhancing_decisions_TNO_toggle_debt_and_money_reserves_auto_handling_enabled = 0 }
            }
            else = {
                set_variable = { SCP-EQ-Tools_enhancing_decisions_TNO_toggle_debt_and_money_reserves_auto_handling_enabled = 1 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_admin_efficiency_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_admin_efficiency = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_academic_base_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_academic_base = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_research_facilities_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_research_facilities = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_healthcare_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_healthcare = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_industrial_expertise_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_industrial_expertise = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_industrial_equipment_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_industrial_equipment = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_agriculture_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_agriculture = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_army_professionalism_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            tno_improve_army_professionalism = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_credit_rating_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            econ_raise_credit_rating = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_credit_max_rating_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            econ_raise_max_credit_rating = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_credit_min_rating_up = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            econ_raise_min_credit_rating = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_PUs = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            set_temp_variable = { pus_temp = 245 }
            econ_pus_change = yes
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_thermoelectric_plant_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = thermoelectric_plant
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_schools_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = schools
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_offices_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = offices
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_hospitals_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = hospitals
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_barracks_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = barracks
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_prisons_onekey = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            every_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = prisons
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_add_nuke = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            add_to_variable = { nuclear_stockpile = 245 }
            set_variable = { nuclear_stockpile_k = nuclear_stockpile }
            divide_variable = { nuclear_stockpile_k = 1000 }
            set_variable = { BonusContribution = 5.0 }
            calculate_strike_capability = yes
            set_temp_variable = { global_coverage_change_temp = 1.0 }
            nuclear_global_coverage_change = yes
            
            # Add us to super powers array to enable the big funny red button
            if = {
                limit = {
                    NOT = {
                        is_in_array = { global.TNO_Superpowers = ROOT }
                    }
                }
                set_superpower = yes
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_toggle_nuke_arsenals = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            if = {
                limit = {
                    check_variable = { global.SCP-EQ-Tools_enhancing_decisions_TNO_toggle_nuke_arsenals_is_nuke_disabled = 1 }
                }
                clr_global_flag = nukes_disabled
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_TNO_toggle_nuke_arsenals_is_nuke_disabled = 0 }
            }
            else = {
                set_global_flag = nukes_disabled
                set_variable = { global.SCP-EQ-Tools_enhancing_decisions_TNO_toggle_nuke_arsenals_is_nuke_disabled = 1 }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_YUN_max_legitimacy = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            YUN = {
                # Generic buffs
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                
                # Sichuan
                if = {
                    limit = {
                        has_global_flag = WI_Sichuan_Struggle_begin
                        NOT = { has_global_flag = WI_RGOC_takes_Sichuan }
                        NOT = { has_global_flag = WI_NPA_takes_Sichuan }
                    }
                    set_variable = {
                        global.GUI_SIC_NPA_Influence = 100
                    }
                    set_variable = {
                        global.GUI_SIC_RGOC_Influence = 0
                    }
                    remove_mission = YUN_WI_Sichuan_movement
                    remove_mission = YUN_WI_Sichuan_tick
                    YUN = { country_event = { id = yun_wi.8 } }
                    CHI = { country_event = { id = yun_wi.9 } }
                }
                
                # Warlords
                if = {
                    limit = {
                        OR = {
                            has_war_with = CHI
                            has_war_with = JAP
                            has_global_flag = CHI_Western_Insurrection_Crisis
                            has_global_flag = YUN_NPA_GAW_Crisis
                            has_global_flag = YUN_ROC_reborn
                        }
                    }
                
                    # XIK
                    set_country_flag = YUN_WI_integrating_XIK
                    YUN_Warlord_Faction_chosen = yes
                    XIK = {
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                        SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                    }
                    
                    # GUX
                    set_country_flag = YUN_WI_integrating_GUX
                    YUN_Warlord_Faction_chosen = yes
                    GUX = {
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                        SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                    }
                    
                    # SHX
                    set_country_flag = YUN_WI_integrating_SHX
                    YUN_Warlord_Faction_chosen = yes
                    SHX = {
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                        SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                    }
                    
                    # QIN
                    set_country_flag = YUN_WI_integrating_QIN
                    YUN_Warlord_Faction_chosen = yes
                    QIN = {
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                        SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                    }
                    
                    # XIN
                    set_country_flag = YUN_WI_integrating_XIN
                    YUN_Warlord_Faction_chosen = yes
                    XIN = {
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1 = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_production = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_army = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_naval = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_air = yes
                        SCP-EQ-Tools_generic_scripted_effects_enable_SCP_item_1_state_supplies_for_all_controlled_states = yes
                        SCP-EQ-Tools_generic_scripted_effects_TNO_enable_SCP_item_1 = yes
                    }
                    
                    # TIB
                    declare_war_on = {
                        target = TIB
                        type = annex_everything
                    }
                    TIB = {
                        SCP-EQ-Tools_generic_scripted_effects_delete_all_units = yes
                        set_temp_variable = { temp_param_new_state_controller_tag = YUN }
                        SCP-EQ-Tools_generic_scripted_effects_change_all_state_controller = yes
                    }
                    
                    # Max legitimacy
                    set_variable = { YUN_legitimacy_cap = 100 }
                    set_variable = { YUN_legitimacy = 100 }
                    set_variable = { YUN_warbuff_cap = 100 }
                    set_variable = { YUN_WI_warbuff = 100 }
                    add_to_variable = { YUN_NPA_Crusade_dirty = 1 }
                    set_variable = { global.YUN_WI_war_momentum_check = 100 }
                    set_variable = { YUN_legitimate_regime = 1 }
                }
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_YUN_rebuild_ROC = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            YUN = {
                add_popularity = {
                    ideology = paternalism
                    popularity = 0.30
                }
                #country_event = yun_zhengtong.53
                YUN_sun_fo = {
                    add_country_leader_role = {
                        country_leader = {
                            desc = "POLITICS_SUN_FO_DESC"
                            ideology = paternalism_xunzheng_subtype
                            traits = { the_son_of_the_founder }
                            expire = "1999.1.1.1"
                            id = -1
                        }
                        promote_leader = yes
                    }
                    add_country_leader_role = {
                        country_leader = {
                            desc = "POLITICS_SUN_FO_DESC"
                            ideology = conservatism_subtype
                            traits = { the_son_of_the_founder }
                            expire = "1999.1.1.1"
                            id = -1
                        }
                        promote_leader = yes
                    }
                }
                YUN_song_qingling = {
                    add_country_leader_role = {
                        country_leader = {
                            ideology = socialist_left_wing_nationalism_subtype
                            traits = { }
                            expire = "1999.1.1.1"
                            id = -1
                        }
                        promote_leader = yes
                    }
                }
                YUN_liu_yiliang = {
                    add_country_leader_role = {
                        country_leader = {
                            ideology = liberalism_national_liberal_subtype
                            traits = { }
                            expire = "1999.1.1.1"
                            id = -1
                        }
                        promote_leader = yes
                    }
                }
                YUN_sun_liren = {
                    add_country_leader_role = {
                        country_leader = {
                            ideology = despotism_military_junta_subtype
                            traits = { }
                            expire = "1999.1.1.1"
                            id = -1
                        }
                    }
                }
                add_ideas = {
                    YUN_Song_Xilian_for
                    YUN_Li_Mi_eco
                    YUN_Zhang_Chong_sec
                }
                YUN_WI_Victory_ROC = yes
                retire_character = YUN_zhang_chong
                add_ideas = {
                    YUN_Sun_Liren_sec
                }
            }
        }
        days_remove = 25
        remove_effect = {
            YUN = {
                set_country_leader_name = {
                    name = YUN_sun_fo
                }
                set_country_leader_description = {
                    desc = POLITICS_SUN_FO_DESC
                }
                set_country_leader_portrait = {
                    portrait = "gfx/leaders/YUN/YUN_Sun_Fo.dds"
                }
                set_country_leader_ideology = paternalism_xunzheng_subtype
            }
        }
    }
    SCP-EQ-Tools_enhancing_decisions_TNO_recalculate_PU = {
        allowed = {
            # Always allowed
        }
        visible = {
            has_country_flag = SCP-EQ-Tools_enhancing_decisions_TNO_decisions_enabled
        }
        available = {
            # Always available
        }
        icon = GFX_SCP-EQ-Tools_generic_icons_SCP_1_TNO_Small
        fire_only_once = no
        days_re_enable = 0
        ai_will_do = {
            factor = 0
        }
        complete_effect = {
            recalculate_GDP_and_PUs_on_demand = yes
        }
    }
}